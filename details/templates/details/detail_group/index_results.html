{# details/templates/details/detail_group/index_results.html #}
{% extends "wagtailadmin/generic/listing_results.html" %}
{% load i18n wagtailadmin_tags %}

{# 1. Tùy biến khu vực hiển thị kết quả (Bảng/Lưới) #}
{% block results %}
    {# Mặc định Wagtail dùng component Table để render bảng #}
    {# Bạn có thể thay thế dòng này bằng vòng lặp for thủ công nếu muốn Custom Grid View #}
    {% component table %}
{% endblock %}

{# 2. Tùy biến thông báo khi không tìm thấy kết quả #}
{% block no_results_message %}
    {# Kiểm tra xem đang tìm kiếm hay đang lọc #}
    {% if is_searching or is_filtering %}
        <div class="nice-padding">
            <h2 role="alert">
                {% blocktrans trimmed with counter=items_count|intcomma count counter_val=items_count %}
                    Tìm thấy {{ counter }} kết quả
                {% plural %}
                    Tìm thấy {{ counter }} kết quả
                {% endblocktrans %}
            </h2>
            {% if is_searching %}
                <p>{% trans "Không có kết quả nào khớp với từ khóa tìm kiếm của bạn." %}</p>
            {% endif %}
        </div>
    {% else %}
        {# Trường hợp danh sách rỗng hoàn toàn (chưa có dữ liệu) #}
        <div class="nice-padding w-mt-8 w-text-center">
            <svg class="icon icon-doc-empty-inverse w-w-16 w-h-16 w-text-grey-300 w-mb-4" aria-hidden="true"><use href="#icon-doc-empty-inverse"></use></svg>
            <h3 class="w-h4">{% trans "Chưa có thông số nào" %}</h3>
            {% if add_url %}
                <p>{% trans "Bắt đầu bằng cách thêm một thông số mới." %}</p>
                <a href="{{ add_url }}" class="button button-primary w-mt-4">{% trans "Thêm mới" %}</a>
            {% endif %}
        </div>
    {% endif %}
{% endblock %}

{# 3. Tùy biến phân trang (Pagination) #}
{% block pagination %}
    {% if is_paginated %}
        <div class="nice-padding">
            {# linkurl=index_url đảm bảo phân trang vẫn giữ nguyên URL gốc #}
            {% include "wagtailadmin/shared/pagination_nav.html" with items=page_obj linkurl=index_url %}
        </div>
    {% endif %}
{% endblock %}