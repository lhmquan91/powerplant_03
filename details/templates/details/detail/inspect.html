{# details/templates/details/detail/inspect.html #}
{% extends "wagtailadmin/generic/inspect.html" %}
{% load i18n wagtailadmin_tags core_tags %}

{% block main_header %}
    {% include "wagtailadmin/shared/header.html" with title=object icon="doc-full-inverse" merged=1 %}
{% endblock %}

{% block main_content %}
    <div class="w-px-5 w-pb-10">
        
        {# --- BLOCK 1: THÃ”NG TIN CÆ  Báº¢N (CORE) --- #}
        <div class="w-bg-surface-page w-border w-border-border-furniture w-rounded w-p-5 w-mb-6 w-shadow-sm">
            <div class="w-flex w-items-center w-mb-4 w-border-b w-border-border-furniture w-pb-2">
                <svg class="icon icon-site w-w-4 w-h-4 w-mr-2" aria-hidden="true"><use href="#icon-site"></use></svg>
                <h3 class="w-h4 w-m-0">
                    {% get_label 'details' 'ui_inspect_core_info' 'ThÃ´ng tin cÆ¡ báº£n (Core)' %}
                </h3>
            </div>
            
            <dl class="w-grid w-grid-cols-1 md:w-grid-cols-2 w-gap-6">
                {# Tiáº¿ng Viá»‡t #}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">
                        ğŸ‡»ğŸ‡³ {% get_label 'details' 'col_name_vi' 'Tiáº¿ng Viá»‡t' %}
                    </dt>
                    <dd class="w-text-16 w-font-bold">{{ object.name_vi|default:"-" }}</dd>
                </div>

                {# Tiáº¿ng Anh #}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">
                        ğŸ‡ºğŸ‡¸ {% get_label 'details' 'col_name_en' 'Tiáº¿ng Anh' %}
                    </dt>
                    <dd class="w-text-16">{{ object.name_en|default:"-" }}</dd>
                </div>

                {# ÄÆ¡n vá»‹ #}
                <div class="md:w-col-span-2">
                    <dt class="w-label-3 w-text-text-meta w-mb-1">
                        {% get_label 'details' 'col_unit' 'ÄÆ¡n vá»‹ máº·c Ä‘á»‹nh' %}
                    </dt>
                    <dd>
                        <span class="w-font-mono w-text-14 w-bg-surface-menu w-text-text-label w-inline-block w-px-2 w-py-1 w-rounded w-border w-border-border-furniture">
                            {{ object.default_unit|default:"-" }}
                        </span>
                    </dd>
                </div>
            </dl>
        </div>

        {# --- BLOCK 2: TIáº¾NG TRUNG & PINYIN --- #}
        {# Chá»‰ hiá»ƒn thá»‹ náº¿u ngÃ´n ngá»¯ 'zh' Ä‘ang active #}
        {% if 'zh' in active_codes %}
        <div class="w-bg-surface-page w-border w-border-border-furniture w-rounded w-p-5 w-mb-6 w-shadow-sm">
            <div class="w-flex w-items-center w-mb-4 w-border-b w-border-border-furniture w-pb-2">
                <span class="w-mr-2 w-text-20">ğŸ‡¨ğŸ‡³</span>
                <h3 class="w-h4 w-m-0">
                    {% get_label 'details' 'ui_inspect_zh_info' 'Tiáº¿ng Trung (Chinese)' %}
                </h3>
            </div>
            
            <dl class="w-grid w-grid-cols-1 md:w-grid-cols-2 w-gap-6">
                {# Chá»¯ HÃ¡n #}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">
                        {% get_label 'details' 'col_name_zh' 'Chá»¯ HÃ¡n (Simplified)' %}
                    </dt>
                    <dd class="w-text-20 w-font-serif w-leading-normal">{{ object.name_zh|default:"-" }}</dd>
                </div>

                {# Pinyin #}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">
                        {% get_label 'details' 'col_name_zh_pinyin' 'PhiÃªn Ã¢m (Pinyin)' %}
                    </dt>
                    <dd class="w-text-16 w-italic w-text-text-meta">{{ object.name_zh_pinyin|default:"-" }}</dd>
                </div>
            </dl>
        </div>
        {% endif %}

        {# --- BLOCK 3: ÄÃ”NG NAM Ã (SEA) --- #}
        {# Kiá»ƒm tra xem cÃ³ ngÃ´n ngá»¯ SEA nÃ o active khÃ´ng #}
        {% if 'th' in active_codes or 'lo' in active_codes or 'km' in active_codes or 'id' in active_codes or 'ms' in active_codes or 'my' in active_codes or 'fil' in active_codes %}
        <div class="w-bg-surface-page w-border w-border-border-furniture w-rounded w-p-5 w-mb-6 w-shadow-sm">
            <div class="w-flex w-items-center w-mb-4 w-border-b w-border-border-furniture w-pb-2">
                <svg class="icon icon-globe w-w-4 w-h-4 w-mr-2" aria-hidden="true"><use href="#icon-globe"></use></svg>
                <h3 class="w-h4 w-m-0">
                    {% get_label 'details' 'ui_inspect_sea_info' 'Khu vá»±c ÄÃ´ng Nam Ã' %}
                </h3>
            </div>
            
            <dl class="w-grid w-grid-cols-1 md:w-grid-cols-3 w-gap-6">
                {% if 'th' in active_codes %}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">ğŸ‡¹ğŸ‡­ Thai</dt>
                    <dd class="w-text-15">{{ object.name_th|default:"-" }}</dd>
                </div>
                {% endif %}
                
                {% if 'lo' in active_codes %}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">ğŸ‡±ğŸ‡¦ Lao</dt>
                    <dd class="w-text-15">{{ object.name_lo|default:"-" }}</dd>
                </div>
                {% endif %}

                {% if 'km' in active_codes %}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">ğŸ‡°ğŸ‡­ Khmer</dt>
                    <dd class="w-text-15">{{ object.name_km|default:"-" }}</dd>
                </div>
                {% endif %}

                {% if 'id' in active_codes %}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">ğŸ‡®ğŸ‡© Indonesia</dt>
                    <dd class="w-text-15">{{ object.name_id|default:"-" }}</dd>
                </div>
                {% endif %}

                {% if 'ms' in active_codes %}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">ğŸ‡²ğŸ‡¾ Malay</dt>
                    <dd class="w-text-15">{{ object.name_ms|default:"-" }}</dd>
                </div>
                {% endif %}

                {% if 'my' in active_codes %}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">ğŸ‡²ğŸ‡² Myanmar</dt>
                    <dd class="w-text-15">{{ object.name_my|default:"-" }}</dd>
                </div>
                {% endif %}

                {% if 'fil' in active_codes %}
                <div>
                    <dt class="w-label-3 w-text-text-meta w-mb-1">ğŸ‡µğŸ‡­ Filipino</dt>
                    <dd class="w-text-15">{{ object.name_fil|default:"-" }}</dd>
                </div>
                {% endif %}
            </dl>
        </div>
        {% endif %}

        {# --- BLOCK 4: Lá»ŠCH Sá»¬ ÄO Äáº C --- #}
        {% if object.equipmentvalue_set.exists %}
            <div class="w-bg-surface-page w-border w-border-border-furniture w-rounded w-overflow-hidden w-mt-6">
                <div class="w-bg-surface-header w-px-4 w-py-3 w-border-b w-border-border-furniture w-flex w-items-center">
                    <svg class="icon icon-history w-w-4 w-h-4 w-mr-2" aria-hidden="true"><use href="#icon-history"></use></svg>
                    <h3 class="w-h5 w-m-0">
                         {% get_label 'details' 'ui_inspect_history_title' 'Dá»¯ liá»‡u Ä‘o Ä‘áº¡c gáº§n Ä‘Ã¢y' %}
                    </h3>
                </div>
                <div class="w-p-4">
                    <p class="w-text-text-meta">
                        {% get_label 'details' 'ui_inspect_history_desc' 'ThÃ´ng sá»‘ nÃ y Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ ghi nháº­n dá»¯ liá»‡u trÃªn thiáº¿t bá»‹.' %}
                    </p>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}